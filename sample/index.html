<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title>CKEditor 5 Playground</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <main>
      <div id="editorTarget">
        <span class="placeholder">{{DateTime.Now}}</span>
        <div class="placeholder-component">{{Component.DateTime.Now}}</div>
      </div>

      <button id="btnGetData">GetData</button>
      <pre id="printData"></pre>
    </main>
  </body>
</html>

<script type="module">
  import ClassicEditor from "./ckeditor.js";

  const response = await fetch("placeholders.json");
  const placeholders = await response.json();

  ClassicEditor.create(document.querySelector("#editorTarget"), {
    licenseKey: "",
    jnvariables: placeholders
  }).then((editor) => {
    const btnGetData = document.querySelector("#btnGetData");
    const printData = document.querySelector("#printData");
    btnGetData.addEventListener("click", () => {
      const _data = editor.getData();
      printData.innerHTML = _data;
    });
  });
</script>
